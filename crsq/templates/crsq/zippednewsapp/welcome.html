{% extends "crsq/zippednewsapp/base.html" %}
{% load staticfiles %}
{% load tagfilter %}

{% block title %}
ZippedNews: Real-time news on Popular Topics
{% endblock %}

{% block navcontent %}
{% endblock %}

{% block bodycontent %}
	<div class="jumbotron">
	  <h1>ZippedNews</h1>
		<p style="text-align:justify">Hate reading full page long articles? Want quick four sentence summary of articles? Want a comprehensive list of articles by topic? You are at the right place! Here, you can Zip through News :)</p>
		<p style="font-size:100%">Coming Soon on<br/><img src="{% static 'crsq/img/zippednewsapp/gplay.png' %}"/><img src="{% static 'crsq/img/zippednewsapp/ios.png' %}"/></p>
		<input type="text" id="topicsearch" class="typeahead" placeholder="Search for Topic (Coming Soon)">
	</div>


        <div class="row">
                <div class="col-sm-12 col-lg-12 col-md-12">
                        <h4>Trending Topics on Google Search:</h4>
                </div>
        </div>
        <div class="row">
                    {% for country, listofsearch in google_trends %}
                        <div class="col-sm-3 col-lg-3 col-md-3">
                                <div class="panel panel-default">
                                        <div class="panel-heading">{{ country }} News</div>

                                          <ul class="list-group">
                                                {% for s in listofsearch %}
                                                        <li class="list-group-item">
                                                                <a href="/{{ s | slugify }}"><p class="list-group-item-text">{{ s | crsq_unslugify }}</p></a>
                                                        </li>
                                                {% endfor %}
                                          </ul>
                                </div>

                        </div>
                    {% endfor %}
                <br/>
        </div>

{% endblock %}

{% block jscontent %}
<script type="text/javascript" src="http://twitter.github.io/typeahead.js/releases/latest/typeahead.bundle.js"></script>
<script type="text/javascript">

$(window).load(function() {
	var topiclist = new Bloodhound({
	  datumTokenizer: function(d) { return Bloodhound.tokenizers.whitespace(d.topic); },
	  queryTokenizer: Bloodhound.tokenizers.whitespace,
  	  local: [ /*
	    { topic: 'one' },
	    { topic: 'two' },
	    { topic: 'three' },
	    { topic: 'four' },
	    { topic: 'five' },
	    { topic: 'six' },
	    { topic: 'seven' },
	    { topic: 'eight' },
	    { topic: 'nine' },
	    { topic: 'ten' }*/
	  ]
	});
 
	// initialize the bloodhound suggestion engine
	topiclist.initialize();
 
	$('#topicsearch').typeahead(null, {
	  minLength: 3,
	  displayKey: 'topic',
	  source: topiclist.ttAdapter()
	});
});

</script>
{% endblock %}
